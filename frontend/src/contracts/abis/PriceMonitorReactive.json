{
  "_format": "hh-sol-artifact-1",
  "contractName": "PriceMonitorReactive",
  "sourceName": "contracts/PriceMonitorReactive.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "bytes32",
          "name": "feedId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "oldPrice",
          "type": "int256"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "newPrice",
          "type": "int256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "changePercent",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "PriceThresholdBreached",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "chainId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "treasury",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "feedId",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "int256",
          "name": "price",
          "type": "int256"
        }
      ],
      "name": "RebalanceTriggered",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "feedId",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "feedAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "chainId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "threshold",
          "type": "uint256"
        }
      ],
      "name": "addPriceFeed",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "chainId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "treasuryAddress",
          "type": "address"
        },
        {
          "internalType": "uint64",
          "name": "gasLimit",
          "type": "uint64"
        }
      ],
      "name": "addTreasury",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "feedIds",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "feedId",
          "type": "bytes32"
        }
      ],
      "name": "getFeed",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "feedAddress",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "chainId",
              "type": "uint256"
            },
            {
              "internalType": "int256",
              "name": "lastPrice",
              "type": "int256"
            },
            {
              "internalType": "uint256",
              "name": "lastUpdate",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "threshold",
              "type": "uint256"
            }
          ],
          "internalType": "struct PriceMonitorReactive.PriceFeed",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getFeedCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTreasuryCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "priceFeeds",
      "outputs": [
        {
          "internalType": "address",
          "name": "feedAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "chainId",
          "type": "uint256"
        },
        {
          "internalType": "int256",
          "name": "lastPrice",
          "type": "int256"
        },
        {
          "internalType": "uint256",
          "name": "lastUpdate",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "threshold",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "chainid",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_contract",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "topic_0",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "topic_1",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "topic_2",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "topic_3",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "react",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "treasuries",
      "outputs": [
        {
          "internalType": "address",
          "name": "treasuryAddress",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "chainId",
          "type": "uint256"
        },
        {
          "internalType": "uint64",
          "name": "gasLimit",
          "type": "uint64"
        },
        {
          "internalType": "bool",
          "name": "isActive",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "treasuryChains",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50600280546001600160a01b03191633179055610d3e806100326000396000f3fe608060405234801561001057600080fd5b50600436106100a95760003560e01c80638e0918b5116100715780638e0918b5146101ed578063a493f855146101f5578063ae3213b614610208578063b7f433d11461021b578063c6c3f71e1461022e578063dff0114e146102a757600080fd5b8063280aebcf146100ae5780632cc9dfb3146101105780634190e48f14610122578063797c82a7146101375780638da5cb5b146101c2575b600080fd5b6100c16100bc3660046109a8565b6102ba565b604051610107919081516001600160a01b031681526020808301519082015260408083015190820152606080830151908201526080918201519181019190915260a00190565b60405180910390f35b6003545b604051908152602001610107565b6101356101303660046109dd565b61034b565b005b6101876101453660046109a8565b60016020819052600091825260409091208054918101546002909101546001600160a01b039092169167ffffffffffffffff811690600160401b900460ff1684565b604080516001600160a01b039095168552602085019390935267ffffffffffffffff9091169183019190915215156060820152608001610107565b6002546101d5906001600160a01b031681565b6040516001600160a01b039091168152602001610107565b600454610114565b6101146102033660046109a8565b61049d565b610135610216366004610aa2565b6104be565b6101146102293660046109a8565b610604565b61027561023c3660046109a8565b600060208190529081526040902080546001820154600283015460038401546004909401546001600160a01b0390931693919290919085565b604080516001600160a01b0390961686526020860194909452928401919091526060830152608082015260a001610107565b6101356102b5366004610add565b610614565b6102f56040518060a0016040528060006001600160a01b03168152602001600081526020016000815260200160008152602001600081525090565b5060009081526020818152604091829020825160a08101845281546001600160a01b0316815260018201549281019290925260028101549282019290925260038201546060820152600490910154608082015290565b600080808061035d876004818b610b2a565b81019061036a9190610b54565b9350935093509350600061037e8f8f61071d565b9050806103c15760405162461bcd60e51b815260206004820152600c60248201526b155b9adb9bdddb881999595960a21b60448201526064015b60405180910390fd5b600081815260208190526040902060028101541561047d5760008160020154866103eb9190610bb4565b90506000826002015461040a836127106104059190610bdb565b6107ee565b6104149190610c0b565b90508260040154811061047a576002830154604080519182526020820189905281018290526060810186905284907f70b1f86b3549990f01df2743bdca7b39f7e24e4ff600819035a753a88ae035499060800160405180910390a261047a84888361080a565b50505b600281019490945550600390920191909155505050505050505050505050565b600481815481106104ad57600080fd5b600091825260209091200154905081565b6002546001600160a01b031633146105055760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064016103b8565b6000848152602081905260409020546001600160a01b0316156105585760405162461bcd60e51b815260206004820152600b60248201526a466565642065786973747360a81b60448201526064016103b8565b6040805160a0810182526001600160a01b03948516815260208082019485526000828401818152606084018281526080850196875289835292829052938120925183546001600160a01b031916971696909617825593516001808301919091559151600282015592516003808501919091559151600490930192909255805491820181559091527fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b0155565b600381815481106104ad57600080fd5b6002546001600160a01b0316331461065b5760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064016103b8565b604080516080810182526001600160a01b039384168152602080820186815267ffffffffffffffff94851683850190815260016060850181815260008a815294829052958420945185546001600160a01b0319169816979097178455905183870155516002909201805493519290941668ffffffffffffffffff1990931692909217600160401b911515919091021790915560048054928301815590527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b0155565b6000805b6003548110156107e25760006003828154811061074057610740610c47565b6000918252602080832090910154808352828252604092839020835160a08101855281546001600160a01b031681526001820154938101849052600282015494810194909452600381015460608501526004015460808401529250861480156107be5750846001600160a01b031681600001516001600160a01b0316145b156107cd575091506107e89050565b505080806107da90610c5d565b915050610721565b50600090505b92915050565b6000808212156108065761080182610c76565b6107e8565b5090565b60005b6004548110156109a25760006004828154811061082c5761082c610c47565b6000918252602080832091909101548083526001808352604093849020845160808101865281546001600160a01b03168152918101549382019390935260029092015467ffffffffffffffff811693830193909352600160401b90920460ff1615801560608301529192509061098d57604080516024810188905260448101879052606480820187905282518083039091018152608490910182526020810180516001600160e01b031663068ed66760e41b17905282518383015192516313f71a6b60e01b8152919262ffffff926313f71a6b926109109288928790600401610c92565b600060405180830381600087803b15801561092a57600080fd5b505af115801561093e573d6000803e3d6000fd5b50508351604080518b8152602081018b90526001600160a01b0390921693508692507f2c6aaadde9748eecbc36d76a985ef7f37a96bb2c0f816c3f839e94ae8bcfcc64910160405180910390a3505b5050808061099a90610c5d565b91505061080d565b50505050565b6000602082840312156109ba57600080fd5b5035919050565b80356001600160a01b03811681146109d857600080fd5b919050565b6000806000806000806000806000806101208b8d0312156109fd57600080fd5b8a359950610a0d60208c016109c1565b985060408b0135975060608b0135965060808b0135955060a08b0135945060c08b013567ffffffffffffffff80821115610a4657600080fd5b818d0191508d601f830112610a5a57600080fd5b813581811115610a6957600080fd5b8e6020828501011115610a7b57600080fd5b9b9e9a9d50989b979a96999598506020019660e08101359561010090910135945092505050565b60008060008060808587031215610ab857600080fd5b84359350610ac8602086016109c1565b93969395505050506040820135916060013590565b600080600060608486031215610af257600080fd5b83359250610b02602085016109c1565b9150604084013567ffffffffffffffff81168114610b1f57600080fd5b809150509250925092565b60008085851115610b3a57600080fd5b83861115610b4757600080fd5b5050820193919092039150565b60008060008060808587031215610b6a57600080fd5b843569ffffffffffffffffffff81168114610b8457600080fd5b966020860135965060408601359560600135945092505050565b634e487b7160e01b600052601160045260246000fd5b8181036000831280158383131683831282161715610bd457610bd4610b9e565b5092915050565b80820260008212600160ff1b84141615610bf757610bf7610b9e565b81810583148215176107e8576107e8610b9e565b600082610c2857634e487b7160e01b600052601260045260246000fd5b600160ff1b821460001984141615610c4257610c42610b9e565b500590565b634e487b7160e01b600052603260045260246000fd5b600060018201610c6f57610c6f610b9e565b5060010190565b6000600160ff1b8201610c8b57610c8b610b9e565b5060000390565b8481526000602060018060a01b0386168184015267ffffffffffffffff8516604084015260806060840152835180608085015260005b81811015610ce45785810183015185820160a001528201610cc8565b50600060a0828601015260a0601f19601f830116850101925050509594505050505056fea26469706673582212209611a3628d0349ca17da3660d9ce16d251c06395586d07d9c37d27db9070cceb64736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100a95760003560e01c80638e0918b5116100715780638e0918b5146101ed578063a493f855146101f5578063ae3213b614610208578063b7f433d11461021b578063c6c3f71e1461022e578063dff0114e146102a757600080fd5b8063280aebcf146100ae5780632cc9dfb3146101105780634190e48f14610122578063797c82a7146101375780638da5cb5b146101c2575b600080fd5b6100c16100bc3660046109a8565b6102ba565b604051610107919081516001600160a01b031681526020808301519082015260408083015190820152606080830151908201526080918201519181019190915260a00190565b60405180910390f35b6003545b604051908152602001610107565b6101356101303660046109dd565b61034b565b005b6101876101453660046109a8565b60016020819052600091825260409091208054918101546002909101546001600160a01b039092169167ffffffffffffffff811690600160401b900460ff1684565b604080516001600160a01b039095168552602085019390935267ffffffffffffffff9091169183019190915215156060820152608001610107565b6002546101d5906001600160a01b031681565b6040516001600160a01b039091168152602001610107565b600454610114565b6101146102033660046109a8565b61049d565b610135610216366004610aa2565b6104be565b6101146102293660046109a8565b610604565b61027561023c3660046109a8565b600060208190529081526040902080546001820154600283015460038401546004909401546001600160a01b0390931693919290919085565b604080516001600160a01b0390961686526020860194909452928401919091526060830152608082015260a001610107565b6101356102b5366004610add565b610614565b6102f56040518060a0016040528060006001600160a01b03168152602001600081526020016000815260200160008152602001600081525090565b5060009081526020818152604091829020825160a08101845281546001600160a01b0316815260018201549281019290925260028101549282019290925260038201546060820152600490910154608082015290565b600080808061035d876004818b610b2a565b81019061036a9190610b54565b9350935093509350600061037e8f8f61071d565b9050806103c15760405162461bcd60e51b815260206004820152600c60248201526b155b9adb9bdddb881999595960a21b60448201526064015b60405180910390fd5b600081815260208190526040902060028101541561047d5760008160020154866103eb9190610bb4565b90506000826002015461040a836127106104059190610bdb565b6107ee565b6104149190610c0b565b90508260040154811061047a576002830154604080519182526020820189905281018290526060810186905284907f70b1f86b3549990f01df2743bdca7b39f7e24e4ff600819035a753a88ae035499060800160405180910390a261047a84888361080a565b50505b600281019490945550600390920191909155505050505050505050505050565b600481815481106104ad57600080fd5b600091825260209091200154905081565b6002546001600160a01b031633146105055760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064016103b8565b6000848152602081905260409020546001600160a01b0316156105585760405162461bcd60e51b815260206004820152600b60248201526a466565642065786973747360a81b60448201526064016103b8565b6040805160a0810182526001600160a01b03948516815260208082019485526000828401818152606084018281526080850196875289835292829052938120925183546001600160a01b031916971696909617825593516001808301919091559151600282015592516003808501919091559151600490930192909255805491820181559091527fc2575a0e9e593c00f959f8c92f12db2869c3395a3b0502d05e2516446f71f85b0155565b600381815481106104ad57600080fd5b6002546001600160a01b0316331461065b5760405162461bcd60e51b815260206004820152600a60248201526927b7363c9037bbb732b960b11b60448201526064016103b8565b604080516080810182526001600160a01b039384168152602080820186815267ffffffffffffffff94851683850190815260016060850181815260008a815294829052958420945185546001600160a01b0319169816979097178455905183870155516002909201805493519290941668ffffffffffffffffff1990931692909217600160401b911515919091021790915560048054928301815590527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b0155565b6000805b6003548110156107e25760006003828154811061074057610740610c47565b6000918252602080832090910154808352828252604092839020835160a08101855281546001600160a01b031681526001820154938101849052600282015494810194909452600381015460608501526004015460808401529250861480156107be5750846001600160a01b031681600001516001600160a01b0316145b156107cd575091506107e89050565b505080806107da90610c5d565b915050610721565b50600090505b92915050565b6000808212156108065761080182610c76565b6107e8565b5090565b60005b6004548110156109a25760006004828154811061082c5761082c610c47565b6000918252602080832091909101548083526001808352604093849020845160808101865281546001600160a01b03168152918101549382019390935260029092015467ffffffffffffffff811693830193909352600160401b90920460ff1615801560608301529192509061098d57604080516024810188905260448101879052606480820187905282518083039091018152608490910182526020810180516001600160e01b031663068ed66760e41b17905282518383015192516313f71a6b60e01b8152919262ffffff926313f71a6b926109109288928790600401610c92565b600060405180830381600087803b15801561092a57600080fd5b505af115801561093e573d6000803e3d6000fd5b50508351604080518b8152602081018b90526001600160a01b0390921693508692507f2c6aaadde9748eecbc36d76a985ef7f37a96bb2c0f816c3f839e94ae8bcfcc64910160405180910390a3505b5050808061099a90610c5d565b91505061080d565b50505050565b6000602082840312156109ba57600080fd5b5035919050565b80356001600160a01b03811681146109d857600080fd5b919050565b6000806000806000806000806000806101208b8d0312156109fd57600080fd5b8a359950610a0d60208c016109c1565b985060408b0135975060608b0135965060808b0135955060a08b0135945060c08b013567ffffffffffffffff80821115610a4657600080fd5b818d0191508d601f830112610a5a57600080fd5b813581811115610a6957600080fd5b8e6020828501011115610a7b57600080fd5b9b9e9a9d50989b979a96999598506020019660e08101359561010090910135945092505050565b60008060008060808587031215610ab857600080fd5b84359350610ac8602086016109c1565b93969395505050506040820135916060013590565b600080600060608486031215610af257600080fd5b83359250610b02602085016109c1565b9150604084013567ffffffffffffffff81168114610b1f57600080fd5b809150509250925092565b60008085851115610b3a57600080fd5b83861115610b4757600080fd5b5050820193919092039150565b60008060008060808587031215610b6a57600080fd5b843569ffffffffffffffffffff81168114610b8457600080fd5b966020860135965060408601359560600135945092505050565b634e487b7160e01b600052601160045260246000fd5b8181036000831280158383131683831282161715610bd457610bd4610b9e565b5092915050565b80820260008212600160ff1b84141615610bf757610bf7610b9e565b81810583148215176107e8576107e8610b9e565b600082610c2857634e487b7160e01b600052601260045260246000fd5b600160ff1b821460001984141615610c4257610c42610b9e565b500590565b634e487b7160e01b600052603260045260246000fd5b600060018201610c6f57610c6f610b9e565b5060010190565b6000600160ff1b8201610c8b57610c8b610b9e565b5060000390565b8481526000602060018060a01b0386168184015267ffffffffffffffff8516604084015260806060840152835180608085015260005b81811015610ce45785810183015185820160a001528201610cc8565b50600060a0828601015260a0601f19601f830116850101925050509594505050505056fea26469706673582212209611a3628d0349ca17da3660d9ce16d251c06395586d07d9c37d27db9070cceb64736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
